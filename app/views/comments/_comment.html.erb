<div class="comment-item <%= 'last-read' if defined?(last_read_comment_id) && last_read_comment_id && comment.id == last_read_comment_id %>" id="<%= dom_id(comment) %>">
  <div>
    <%= render AvatarComponent.new(user: comment.user, size: 20, classes: 'avatar comment-avatar') %>
    <strong><%= comment.user&.display_name || t('comments.gemini') %></strong>
    <span>Â· <%= t('datetime.ago', time: time_ago_in_words(comment.created_at)) %></span>
    <% if comment.user == Current.user %>
      <div class="comment-action-container">
        <button class="edit-comment-btn" data-comment-id="<%= comment.id %>" data-comment-content="<%= comment.content %>" title="<%= t('comments.update_comment') %>">
          <%= t('comments.edit_button') %>
        </button>
        <button class="delete-comment-btn" data-comment-id="<%= comment.id %>" title="<%= t('comments.delete') %>">
          <%= t('comments.delete_button') %>
        </button>
      </div>
    <% end %>
  </div>
  <div class="comment-content">
    <%= linkify_urls(comment.content) %>
  </div>
</div>
